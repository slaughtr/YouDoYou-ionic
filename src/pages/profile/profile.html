<ion-header>

  <ion-navbar>
    <ion-title>Profile</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-card id="masterCard">

    <ion-item>
      <ion-avatar item-start>
        <img src="https://i1.wp.com/www.techrepublic.com/bundles/techrepubliccore/images/icons/standard/icon-user-default.png">
      </ion-avatar>
      <h2>{{(this.fbData.user | async)?.name}}</h2>
      <p>LEVEL: {{(this.fbData.user | async)?.level}}</p>
    </ion-item>

    <button ion-button block (click)="showAddSkillModal()">Add a Skill</button>

    <ion-content class="card-background-page">

      <ion-card *ngFor="let skill of this.fbData.skills | async" class="skillCards">
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/22/Greek_Keyboard_(Macbook_Pro).jpg"/>
        <div class="card-title" (click)="showSkillDetails(skill)">{{skill.name}}</div>
        <div class="card-subtitle">Completed Tasks: {{skill.numTasksCompleted}}<br>Failed Tasks: {{skill.numTasksFailed}}</div>
        <div class="skillExperience">Experience: {{skill.currentExp}}/{{skill.neededExp}}</div>
        <div class="skillLevel">Level: {{skill.level}}</div>
      </ion-card>

    </ion-content>

    <ion-row id="footer">
      <ion-col>
        <button ion-button icon-left clear small>
          <div>EXP: {{(this.fbData.user | async)?.currentExp}}/{{(this.fbData.user | async)?.neededExp}}</div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-left clear small>
          <div>Completed Tasks: {{(this.fbData.user | async)?.numTasksCompleted}}</div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-left clear small>
          <div>Failed Tasks: {{(this.fbData.user | async)?.numTasksFailed}}</div>
        </button>
      </ion-col>
    </ion-row>

  </ion-card>
</ion-content>
